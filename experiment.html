<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --grid-columns: 10;
            --gutter-width: 12px;
            --column-width: calc((100vw - (var(--gutter-width) * (var(--grid-columns) - 1))) / var(--grid-columns));
            --grid-color: rgba(255, 255, 255, 0.03);
            --grid-line-color: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #000000;
            color: #ffffff;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            line-height: 1.6;
            position: relative;
        }

        /* GRID OVERLAY SYSTEM - This is the key part */
        .grid-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Allows clicking through */
            z-index: 9998;
            display: grid;
            grid-template-columns: repeat(var(--grid-columns), 1fr);
            gap: var(--gutter-width);
            padding: 0 40px; /* Side margins */
            opacity: 0.9; /* Adjust visibility */
            transition: opacity 0.3s;
        }

        /* .grid-overlay:hover {
            opacity: 0.5;
        } */

        .grid-column {
            background-color: var(--grid-color);
            border-left: 1px solid var(--grid-line-color);
            border-right: 1px solid var(--grid-line-color);
            height: 100%;
        }

        /* Content container that aligns with the grid */
        .container {
            position: relative;
            z-index: 9999;
            padding: 0 40px;
            max-width: 1440px;
            margin: 0 auto;
        }

        /* Grid-aligned content layout */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(var(--grid-columns), 1fr);
            gap: var(--gutter-width);
            align-items: start;
        }

        /* Example: Hero section spanning 8 columns */
        .hero {
            grid-column: span 8;
            padding: 120px 0;
        }

        h1 {
            font-size: 4rem;
            font-weight: 600;
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        .subtitle {
            font-size: 1.25rem;
            opacity: 0.7;
            max-width: 600px;
        }

        /* Example: Text block spanning 5 columns */
        .text-block {
            grid-column: span 5;
            padding: 40px 0;
        }

        .text-block p {
            font-size: 1.125rem;
            line-height: 1.8;
            opacity: 0.8;
            margin-bottom: 1.5rem;
        }

        /* Example: Wide content spanning 10 columns */
        .wide-content {
            grid-column: span 10;
            padding: 80px 0;
        }

        /* Example: Narrow sidebar spanning 2 columns */
        .sidebar {
            grid-column: span 2;
            padding: 40px 0;
        }

        .sidebar p {
            font-size: 0.875rem;
            opacity: 0.6;
        }

        /* Example: Image grid */
        .image-grid {
            grid-column: 1 / -1; /* Full width */
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--gutter-width);
            padding: 80px 0;
        }

        .image-item {
            aspect-ratio: 4/3;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            overflow: hidden;
        }

        /* Utility class to show grid alignment */
        .debug .grid-column {
            background-color: rgba(255, 0, 0, 0.1);
            outline: 1px dashed rgba(255, 0, 0, 0.3);
        }

        /* Toggle button for grid visibility */
        .grid-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            z-index: 10000;
            font-family: inherit;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            :root {
                --gutter-width: 20px;
            }
            .container {
                padding: 0 32px;
            }
            .grid-overlay {
                padding: 0 32px;
            }
        }

        @media (max-width: 768px) {
            :root {
                --grid-columns: 6;
                --gutter-width: 16px;
            }
            
            .container {
                padding: 0 20px;
            }
            
            .grid-overlay {
                padding: 0 20px;
            }
            
            .hero {
                grid-column: span 6;
                padding: 60px 0;
            }
            
            .text-block {
                grid-column: span 6;
            }
            
            .wide-content {
                grid-column: span 6;
            }
            
            .sidebar {
                grid-column: span 6;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            :root {
                --grid-columns: 4;
            }
        }
    </style>
    <title>Functional Grid Column System</title>
</head>

<body>
    <!-- Grid overlay for visual reference -->
    <div class="grid-overlay" id="gridOverlay">
        <!-- Columns are created via CSS grid -->
    </div>

    <!-- Content container -->
    <div class="container">
        <div class="content-grid">
            <section class="hero">
                <h1>Precision Grid System</h1>
                <p class="subtitle">This is a functional grid system where content actually aligns with the visible columns. Each element spans specific columns.</p>
            </section>

            <section class="text-block">
                <p>This text block spans 5 columns. Notice how it aligns perfectly with the grid columns behind it. The grid isn't just decoration - it's a functional layout system.</p>
                <p>All content elements are placed using CSS Grid with column spans, ensuring everything aligns to the same grid structure.</p>
            </section>

            <aside class="sidebar">
                <p>This sidebar spans 2 columns. Even narrow elements align perfectly with the grid system.</p>
            </aside>

            <section class="wide-content">
                <h2>Wide Content Area</h2>
                <p>This section spans 10 columns. The grid helps maintain consistent spacing and alignment across different content widths.</p>
            </section>

            <div class="image-grid">
                <div class="image-item"></div>
                <div class="image-item"></div>
                <div class="image-item"></div>
            </div>
        </div>
    </div>

    <!-- Grid toggle button -->
    <button class="grid-toggle" onclick="toggleGrid()">Toggle Grid</button>

    <script>
        // Generate grid columns dynamically
        const gridOverlay = document.getElementById('gridOverlay');
        const columns = getComputedStyle(document.documentElement)
            .getPropertyValue('--grid-columns')
            .trim();
        
        // Create column divs
        for (let i = 0; i < parseInt(columns); i++) {
            const column = document.createElement('div');
            column.className = 'grid-column';
            gridOverlay.appendChild(column);
        }

        // Toggle grid visibility
        function toggleGrid() {
            const body = document.body;
            body.classList.toggle('debug');
            
            const gridOverlay = document.getElementById('gridOverlay');
            const currentOpacity = window.getComputedStyle(gridOverlay).opacity;
            gridOverlay.style.opacity = currentOpacity === '0.3' ? '0.7' : '0.3';
        }
    </script>
</body>
</html>